import{A as C,H as A,Ia as J,J as O,Kb as G,O as o,P as B,R as _,T as k,U as l,Y as q,_ as H,a as F,h as w,ja as I,l as u,n as f,p as P,t as M,u as R,v as K,wb as z,x as S,y as U}from"./chunk-BUILSQAK.js";var v=class{},nt=(()=>{class e{handle(t){return t.key}static \u0275fac=function(n){return new(n||e)};static \u0275prov=o({token:e,factory:e.\u0275fac})}return e})(),p=class{},rt=(()=>{class e extends p{compile(t,n){return t}compileTranslations(t,n){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=I(e)))(r||e)}})();static \u0275prov=o({token:e,factory:e.\u0275fac})}return e})(),b=class{},at=(()=>{class e extends b{getTranslation(t){return u({})}static \u0275fac=(()=>{let t;return function(r){return(t||(t=I(e)))(r||e)}})();static \u0275prov=o({token:e,factory:e.\u0275fac})}return e})();function D(e,a){if(e===a)return!0;if(e===null||a===null)return!1;if(e!==e&&a!==a)return!0;let t=typeof e,n=typeof a,r;if(t==n&&t=="object")if(Array.isArray(e)){if(!Array.isArray(a))return!1;if((r=e.length)==a.length){for(let s=0;s<r;s++)if(!D(e[s],a[s]))return!1;return!0}}else{if(Array.isArray(a))return!1;if(c(e)&&c(a)){let s=Object.create(null);for(let i in e){if(!D(e[i],a[i]))return!1;s[i]=!0}for(let i in a)if(!(i in s)&&typeof a[i]<"u")return!1;return!0}}return!1}function g(e){return typeof e<"u"&&e!==null}function W(e){return e!==void 0}function c(e){return y(e)&&!d(e)&&e!==null}function y(e){return typeof e=="object"&&e!==null}function d(e){return Array.isArray(e)}function x(e){return typeof e=="string"}function st(e){return typeof e=="function"}function j(e){if(d(e))return e.map(a=>j(a));if(c(e)){let a={};return Object.keys(e).forEach(t=>{a[t]=j(e[t])}),a}else return e}function $(e,a){if(!y(e))return j(a);let t=j(e);return y(t)&&y(a)&&Object.keys(a).forEach(n=>{c(a[n])?n in e?t[n]=$(e[n],a[n]):Object.assign(t,{[n]:a[n]}):Object.assign(t,{[n]:a[n]})}),t}function X(e,a){let t=a.split(".");a="";do{a+=t.shift();let n=!t.length;if(g(e)){if(c(e)&&W(e[a])&&(c(e[a])||d(e[a])||n)){e=e[a],a="";continue}if(d(e)){let r=parseInt(a,10);if(W(e[r])&&(c(e[r])||d(e[r])||n)){e=e[r],a="";continue}}}if(n){e=void 0;continue}a+="."}while(t.length);return e}function it(e,a,t){return $(e,ot(a,t))}function ot(e,a){return e.split(".").reduceRight((t,n)=>({[n]:t}),a)}var L=class{},lt=(()=>{class e extends L{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(t,n){if(x(t))return this.interpolateString(t,n);if(st(t))return this.interpolateFunction(t,n)}interpolateFunction(t,n){return t(n)}interpolateString(t,n){return n?t.replace(this.templateMatcher,(r,s)=>{let i=this.getInterpolationReplacement(n,s);return i!==void 0?i:r}):t}getInterpolationReplacement(t,n){return this.formatValue(X(t,n))}formatValue(t){if(x(t))return t;if(typeof t=="number"||typeof t=="boolean")return t.toString();if(t===null)return"null";if(d(t))return t.join(", ");if(y(t))return typeof t.toString=="function"&&t.toString!==Object.prototype.toString?t.toString():JSON.stringify(t)}static \u0275fac=(()=>{let t;return function(r){return(t||(t=I(e)))(r||e)}})();static \u0275prov=o({token:e,factory:e.\u0275fac})}return e})(),E=(()=>{class e{_onTranslationChange=new w;_onLangChange=new w;_onFallbackLangChange=new w;fallbackLang=null;currentLang;translations={};languages=[];getTranslations(t){return this.translations[t]}setTranslations(t,n,r){this.translations[t]=r&&this.hasTranslationFor(t)?$(this.translations[t],n):n,this.addLanguages([t]),this._onTranslationChange.next({lang:t,translations:this.getTranslations(t)})}getLanguages(){return this.languages}getCurrentLang(){return this.currentLang}getFallbackLang(){return this.fallbackLang}setFallbackLang(t,n=!0){this.fallbackLang=t,n&&this._onFallbackLangChange.next({lang:t,translations:this.translations[t]})}setCurrentLang(t,n=!0){this.currentLang=t,n&&this._onLangChange.next({lang:t,translations:this.translations[t]})}get onTranslationChange(){return this._onTranslationChange.asObservable()}get onLangChange(){return this._onLangChange.asObservable()}get onFallbackLangChange(){return this._onFallbackLangChange.asObservable()}addLanguages(t){this.languages=Array.from(new Set([...this.languages,...t]))}hasTranslationFor(t){return typeof this.translations[t]<"u"}deleteTranslations(t){delete this.translations[t]}getTranslation(t){let n=this.getValue(this.currentLang,t);return n===void 0&&this.fallbackLang!=null&&this.fallbackLang!==this.currentLang&&(n=this.getValue(this.fallbackLang,t)),n}getValue(t,n){return X(this.getTranslations(t),n)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=o({token:e,factory:e.\u0275fac})}return e})(),V=new _("TRANSLATE_CONFIG"),m=e=>f(e)?e:u(e);var T=(()=>{class e{loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;currentLoader=l(b);compiler=l(p);parser=l(L);missingTranslationHandler=l(v);store=l(E);extend=!1;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onFallbackLangChange(){return this.store.onFallbackLangChange}get onDefaultLangChange(){return this.store.onFallbackLangChange}constructor(){let t=F({extend:!1,fallbackLang:null},l(V,{optional:!0}));t.lang&&this.use(t.lang),t.fallbackLang&&this.setFallbackLang(t.fallbackLang),t.extend&&(this.extend=!0)}setFallbackLang(t){this.getFallbackLang()||this.store.setFallbackLang(t,!1);let n=this.loadOrExtendLanguage(t);return f(n)?(n.pipe(C(1)).subscribe({next:()=>{this.store.setFallbackLang(t)},error:()=>{}}),n):(this.store.setFallbackLang(t),u(this.store.getTranslations(t)))}use(t){this.lastUseLanguage=t,this.getCurrentLang()||this.store.setCurrentLang(t,!1);let n=this.loadOrExtendLanguage(t);return f(n)?(n.pipe(C(1)).subscribe({next:()=>{this.changeLang(t)},error:()=>{}}),n):(this.changeLang(t),u(this.store.getTranslations(t)))}loadOrExtendLanguage(t){if(!this.store.hasTranslationFor(t)||this.extend)return this._translationRequests[t]=this._translationRequests[t]||this.loadAndCompileTranslations(t),this._translationRequests[t]}changeLang(t){t===this.lastUseLanguage&&this.store.setCurrentLang(t)}getCurrentLang(){return this.store.getCurrentLang()}loadAndCompileTranslations(t){this.pending=!0;let n=this.currentLoader.getTranslation(t).pipe(A(1),C(1));return this.loadingTranslations=n.pipe(P(r=>this.compiler.compileTranslations(r,t)),A(1),C(1)),this.loadingTranslations.subscribe({next:r=>{this.store.setTranslations(t,r,this.extend),this.pending=!1},error:r=>{this.pending=!1}}),n}setTranslation(t,n,r=!1){let s=this.compiler.compileTranslations(n,t);this.store.setTranslations(t,s,r||this.extend)}getLangs(){return this.store.getLanguages()}addLangs(t){this.store.addLanguages(t)}getParsedResultForKey(t,n){let r=this.getTextToInterpolate(t);if(g(r))return this.runInterpolation(r,n);let s=this.missingTranslationHandler.handle(F({key:t,translateService:this},n!==void 0&&{interpolateParams:n}));return s!==void 0?s:t}getFallbackLang(){return this.store.getFallbackLang()}getTextToInterpolate(t){return this.store.getTranslation(t)}runInterpolation(t,n){if(g(t))return d(t)?this.runInterpolationOnArray(t,n):c(t)?this.runInterpolationOnDict(t,n):this.parser.interpolate(t,n)}runInterpolationOnArray(t,n){return t.map(r=>this.runInterpolation(r,n))}runInterpolationOnDict(t,n){let r={};for(let s in t){let i=this.runInterpolation(t[s],n);i!==void 0&&(r[s]=i)}return r}getParsedResult(t,n){return t instanceof Array?this.getParsedResultForArray(t,n):this.getParsedResultForKey(t,n)}getParsedResultForArray(t,n){let r={},s=!1;for(let h of t)r[h]=this.getParsedResultForKey(h,n),s=s||f(r[h]);if(!s)return r;let i=t.map(h=>m(r[h]));return K(i).pipe(P(h=>{let N={};return h.forEach((tt,et)=>{N[t[et]]=tt}),N}))}get(t,n){if(!g(t)||!t.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(U(()=>m(this.getParsedResult(t,n)))):m(this.getParsedResult(t,n))}getStreamOnTranslationChange(t,n){if(!g(t)||!t.length)throw new Error('Parameter "key" is required and cannot be empty');return M(R(()=>this.get(t,n)),this.onTranslationChange.pipe(O(()=>{let r=this.getParsedResult(t,n);return m(r)})))}stream(t,n){if(!g(t)||!t.length)throw new Error('Parameter "key" required');return M(R(()=>this.get(t,n)),this.onLangChange.pipe(O(()=>{let r=this.getParsedResult(t,n);return m(r)})))}instant(t,n){if(!g(t)||t.length===0)throw new Error('Parameter "key" is required and cannot be empty');let r=this.getParsedResult(t,n);return f(r)?Array.isArray(t)?t.reduce((s,i)=>(s[i]=i,s),{}):t:r}set(t,n,r=this.getCurrentLang()){this.store.setTranslations(r,it(this.store.getTranslations(r),t,x(n)?this.compiler.compile(n,r):this.compiler.compileTranslations(n,r)),!1)}reloadLang(t){return this.resetLang(t),this.loadAndCompileTranslations(t)}resetLang(t){delete this._translationRequests[t],this.store.deleteTranslations(t)}static getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let t=this.getBrowserCultureLang();return t?t.split(/[-_]/)[0]:void 0}static getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}getBrowserLang(){return e.getBrowserLang()}getBrowserCultureLang(){return e.getBrowserCultureLang()}get defaultLang(){return this.getFallbackLang()}get currentLang(){return this.store.getCurrentLang()}get langs(){return this.store.getLanguages()}setDefaultLang(t){return this.setFallbackLang(t)}getDefaultLang(){return this.getFallbackLang()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=o({token:e,factory:e.\u0275fac})}return e})();var wt=(()=>{class e{translate=l(T);_ref=l(z);value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onFallbackLangChange;updateValue(t,n,r){let s=i=>{this.value=i!==void 0?i:t,this.lastKey=t,this._ref.markForCheck()};if(r){let i=this.translate.getParsedResult(t,n);f(i)?i.subscribe(s):s(i)}this.translate.get(t,n).subscribe(s)}transform(t,...n){if(!t||!t.length)return t;if(D(t,this.lastKey)&&D(n,this.lastParams))return this.value;let r;if(g(n[0])&&n.length)if(x(n[0])&&n[0].length){let s=n[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{r=JSON.parse(s)}catch(i){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${n[0]}`)}}else c(n[0])&&(r=n[0]);return this.lastKey=t,this.lastParams=n,this.updateValue(t,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{(this.lastKey&&s.lang===this.translate.getCurrentLang()||s.lang===this.translate.getFallbackLang())&&(this.lastKey=null,this.updateValue(t,r,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,r,s.translations))})),this.onFallbackLangChange||(this.onFallbackLangChange=this.translate.onFallbackLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onFallbackLangChange<"u"&&(this.onFallbackLangChange.unsubscribe(),this.onFallbackLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=H({name:"translate",type:e,pure:!1,standalone:!0});static \u0275prov=o({token:e,factory:e.\u0275fac})}return e})();function ut(e){return{provide:b,useClass:e}}function ct(e){return{provide:p,useClass:e}}function gt(e){return{provide:L,useClass:e}}function ht(e){return{provide:v,useClass:e}}function Z(e={},a){let t=[];e.loader&&t.push(e.loader),e.compiler&&t.push(e.compiler),e.parser&&t.push(e.parser),e.missingTranslationHandler&&t.push(e.missingTranslationHandler),a&&t.push(E),(e.useDefaultLang||e.defaultLanguage)&&(console.warn("The `useDefaultLang` and `defaultLanguage` options are deprecated. Please use `fallbackLang` instead."),e.useDefaultLang===!0&&e.defaultLanguage&&(e.fallbackLang=e.defaultLanguage));let n={fallbackLang:e.fallbackLang??null,lang:e.lang,extend:e.extend??!1};return t.push({provide:V,useValue:n}),t.push({provide:T,useClass:T,deps:[E,b,p,L,v,V]}),t}var St=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[...Z(F({compiler:ct(rt),parser:gt(lt),loader:ut(at),missingTranslationHandler:ht(nt)},t),!0)]}}static forChild(t={}){return{ngModule:e,providers:[...Z(t,t.isolate??!1)]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=q({type:e});static \u0275inj=B({})}return e})();var Y=(()=>{class e{constructor(t){this.translate=t,this.currentLanguage=J("es");let n=localStorage.getItem("language"),r=n==="es"||n==="en"?n:"es";this.setLanguage(r)}setLanguage(t){this.translate.use(t),this.currentLanguage.set(t),localStorage.setItem("language",t)}getCurrentLanguage(){return this.currentLanguage()}static{this.\u0275fac=function(n){return new(n||e)(k(T))}}static{this.\u0275prov=o({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Et=(()=>{class e{constructor(t){this.http=t,this.apiUrl="http://localhost:8000/api",this.languageService=l(Y)}withLang(t){let n=this.languageService.getCurrentLanguage(),r=t.includes("?")?"&":"?";return`${t}${r}lang=${n}`}getCategories(){return this.http.get(this.withLang(`${this.apiUrl}/categories/`)).pipe(S(()=>u(this.getMockCategories())))}getCategoryBySlug(t){return this.http.get(this.withLang(`${this.apiUrl}/categories/${t}/`))}getCategoriesByType(t){return this.http.get(this.withLang(`${this.apiUrl}/categories/by_type/?type=${t}`))}getSubCategories(t){let n=t?`${this.apiUrl}/subcategories/?category=${t}`:`${this.apiUrl}/subcategories/`;return this.http.get(this.withLang(n))}getSubCategoryBySlug(t){return this.http.get(this.withLang(`${this.apiUrl}/subcategories/${t}/`))}getProducts(t){let n=t?`${this.apiUrl}/products/?subcategory=${t}`:`${this.apiUrl}/products/`;return this.http.get(this.withLang(n))}getFeaturedProducts(){return this.http.get(this.withLang(`${this.apiUrl}/products/featured/`)).pipe(S(()=>u([])))}getProductBySlug(t){return this.http.get(this.withLang(`${this.apiUrl}/products/${t}/`))}sendContactMessage(t){return this.http.post(`${this.apiUrl}/contact/`,t)}getCompanyInfo(){return this.http.get(this.withLang(`${this.apiUrl}/company/`)).pipe(S(()=>u(this.getDefaultCompanyInfo())))}getMockCategories(){let n=this.languageService.getCurrentLanguage()==="en";return[{id:1,name:n?"Equipment":"Equipos",slug:"equipos",category_type:"equipos",description:n?"High-precision equipment for industry":"Equipos de alta precisi\xF3n para la industria",icon:"precision_manufacturing",subcategories_count:2},{id:2,name:n?"Supplies":"Insumos",slug:"insumos",category_type:"insumos",description:n?"First-quality industrial supplies":"Insumos industriales de primera calidad",icon:"inventory_2",subcategories_count:3},{id:3,name:n?"Services":"Servicios",slug:"servicios",category_type:"servicios",description:n?"Specialized technical services":"Servicios t\xE9cnicos especializados",icon:"engineering",subcategories_count:0},{id:4,name:n?"Innovation & Development":"Innovaci\xF3n y Desarrollo",slug:"innovacion",category_type:"innovacion",description:n?"Innovative solutions for your industry":"Soluciones innovadoras para tu industria",icon:"lightbulb",subcategories_count:0}]}getDefaultCompanyInfo(){let n=this.languageService.getCurrentLanguage()==="en";return{name:"Metplastech Technologies SPA",slogan:n?"Innovation and technology for industry":"Innovaci\xF3n y tecnolog\xEDa para la industria",phone:"+569 9615 4315",whatsapp:"+56996154315",email:"contacto@metplastech.cl",address:n?"Curic\xF3 \u2013 Maule Region \u2013 Chile":"Curic\xF3 \u2013 Regi\xF3n del Maule \u2013 Chile"}}static{this.\u0275fac=function(n){return new(n||e)(k(G))}}static{this.\u0275prov=o({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{b as a,T as b,wt as c,St as d,Y as e,Et as f};
