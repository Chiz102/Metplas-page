import{c as B,e as U}from"./chunk-U7ZYAR5B.js";import{c as A,d as V,f as R}from"./chunk-R7IMKVV6.js";import{$a as z,Jb as j,Oa as m,Qa as u,Ra as h,Sa as w,Ta as s,U as O,Ua as T,Va as P,Wa as M,X as y,Xa as o,Ya as i,Za as v,_a as D,ab as p,bb as L,fa as S,ga as k,gb as a,ha as E,hb as d,ia as I,ib as x,ob as F,qb as $,rb as b,sb as g,tb as _,va as C,za as n}from"./chunk-JLQZEDEM.js";var Y=(e,r)=>r.key,H=(e,r)=>r.id,W=e=>["/catalogo",e],q=(e,r)=>["/catalogo",e,r],G=(e,r)=>["/producto",e,r];function Q(e,r){if(e&1&&v(0,"img",11),e&2){let t=p(2);u("src",t.product.image,C)("alt",t.product.name)}}function J(e,r){if(e&1&&(o(0,"div",25)(1,"span",15),a(2),i()()),e&2){let t=p(2);n(2),d((t.supplier==null?null:t.supplier.icon)||"inventory_2")}}function K(e,r){if(e&1){let t=D();o(0,"button",27),z("click",function(){let c=S(t).$implicit,f=p(3);return k(f.selectImage(c))}),v(1,"img",11),i()}if(e&2){let t=r.$implicit,l=p(3);w("active",l.currentImage===t),n(),u("src",t,C)("alt",l.product.name)}}function N(e,r){if(e&1&&(o(0,"div",12),P(1,K,2,4,"button",26,T),i()),e&2){let t=p(2);n(),M(t.product.gallery)}}function X(e,r){if(e&1&&(o(0,"span",16),a(1),i()),e&2){let t=p(2);n(),d(t.product.category_name)}}function Z(e,r){if(e&1&&(o(0,"p",17),a(1),i()),e&2){let t=p(2);n(),d(t.product.short_description)}}function tt(e,r){if(e&1&&(o(0,"div",18)(1,"h3"),a(2),g(3,"translate"),i(),o(4,"p"),a(5),i()()),e&2){let t=p(2);n(2),d(_(3,2,"product.description")),n(3),d(t.product.description)}}function et(e,r){if(e&1&&(o(0,"div",29)(1,"dt"),a(2),i(),o(3,"dd"),a(4),i()()),e&2){let t=r.$implicit;n(2),d(t.key),n(2),d(t.value)}}function nt(e,r){if(e&1&&(o(0,"div",19)(1,"h3"),a(2),g(3,"translate"),i(),o(4,"dl",28),P(5,et,5,2,"div",29,Y),i()()),e&2){let t=p(2);n(2),d(_(3,1,"product.specifications")),n(3),M(t.getSpecifications())}}function it(e,r){if(e&1&&(o(0,"div",7)(1,"div",9)(2,"div",10),m(3,Q,1,2,"img",11)(4,J,3,1),i(),m(5,N,3,0,"div",12),i(),o(6,"div",13)(7,"div",14)(8,"span",15),a(9),i(),a(10),i(),o(11,"h1"),a(12),i(),m(13,X,2,1,"span",16)(14,Z,2,1,"p",17)(15,tt,6,4,"div",18)(16,nt,7,3,"div",19),o(17,"div",20)(18,"a",21),E(),o(19,"svg",22),v(20,"path",23),i(),a(21),g(22,"translate"),i(),I(),o(23,"a",24)(24,"span",15),a(25,"mail"),i(),a(26),g(27,"translate"),i()()()()),e&2){let t=p();n(3),s(3,t.product.image?3:4),n(2),s(5,t.product.gallery&&t.product.gallery.length>0?5:-1),n(4),d((t.supplier==null?null:t.supplier.icon)||"business"),n(),x(" ",t.supplier==null?null:t.supplier.name," "),n(2),d(t.product.name),n(),s(13,t.product.category_name?13:-1),n(),s(14,t.product.short_description?14:-1),n(),s(15,t.product.description?15:-1),n(),s(16,t.product.specifications&&t.hasSpecifications()?16:-1),n(2),L("href","https://wa.me/56996154315?text=",t.getWhatsAppMessage(),"",C),n(3),x(" ",_(22,13,"product.requestQuote")," "),n(5),x(" ",_(27,15,"product.contactUs")," ")}}function ot(e,r){if(e&1&&v(0,"img",11),e&2){let t=p().$implicit;u("src",t.image,C)("alt",t.name)}}function rt(e,r){e&1&&(o(0,"span",15),a(1,"inventory_2"),i())}function at(e,r){if(e&1&&(o(0,"a",32)(1,"div",33),m(2,ot,1,2,"img",11)(3,rt,2,0),i(),o(4,"span",34),a(5),i()()),e&2){let t=r.$implicit,l=r.$index,c=p(2);h("animation-delay",l*80+"ms"),u("routerLink",b(5,G,c.supplierSlug,t.slug)),n(2),s(2,t.image?2:3),n(3),d(t.name)}}function ct(e,r){if(e&1&&(o(0,"section",8)(1,"div",1)(2,"h2"),a(3),g(4,"translate"),i(),o(5,"div",30),P(6,at,6,8,"a",31,H),i()()()),e&2){let t=p();n(3),d(_(4,1,"product.relatedProducts")),n(3),M(t.relatedProducts)}}var Ct=(()=>{class e{constructor(){this.api=O(R),this.route=O(B),this.product=null,this.supplier=null,this.relatedProducts=[],this.supplierSlug="",this.currentImage=""}ngOnInit(){this.route.params.subscribe(t=>{this.supplierSlug=t.supplier;let l=t.slug;this.loadProduct(l)})}loadProduct(t){this.api.getSupplierBySlug(this.supplierSlug).subscribe(l=>{this.supplier=l,l?.products&&(this.product=l.products.find(c=>c.slug===t)||null,this.product?.image&&(this.currentImage=this.product.image),this.relatedProducts=l.products.filter(c=>c.slug!==t&&c.category_name===this.product?.category_name).slice(0,5))})}selectImage(t){this.currentImage=t}hasSpecifications(){return this.product?.specifications?Object.keys(this.product.specifications).length>0:!1}getSpecifications(){return this.product?.specifications?Object.entries(this.product.specifications).map(([t,l])=>({key:t,value:l})):[]}getWhatsAppMessage(){let t=`Hola, me interesa el producto: ${this.product?.name} (${this.supplier?.name})`;return encodeURIComponent(t)}static{this.\u0275fac=function(l){return new(l||e)}}static{this.\u0275cmp=y({type:e,selectors:[["app-product-detail"]],standalone:!0,features:[F],decls:21,vars:17,consts:[[1,"breadcrumb"],[1,"container"],["routerLink","/catalogo"],[1,"separator"],[3,"routerLink"],[1,"current"],[1,"product-detail"],[1,"product-layout"],[1,"section","related-section"],[1,"product-gallery"],[1,"main-image"],[3,"src","alt"],[1,"thumbnail-strip"],[1,"product-info"],[1,"supplier-badge"],[1,"material-icons-outlined"],[1,"category-tag"],[1,"short-description"],[1,"description"],[1,"specifications"],[1,"product-actions"],["target","_blank",1,"btn","btn-primary","btn-lg",3,"href"],["viewBox","0 0 24 24","fill","currentColor","width","20","height","20"],["d","M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"],["routerLink","/contacto",1,"btn","btn-outline","btn-lg"],[1,"placeholder"],[1,"thumbnail",3,"active"],[1,"thumbnail",3,"click"],[1,"spec-list"],[1,"spec-item"],[1,"related-grid"],[1,"related-card",3,"routerLink","animation-delay"],[1,"related-card",3,"routerLink"],[1,"related-image"],[1,"related-name"]],template:function(l,c){if(l&1&&(o(0,"nav",0)(1,"div",1)(2,"a",2),a(3),g(4,"translate"),i(),o(5,"span",3),a(6,"/"),i(),o(7,"a",4),a(8),i(),o(9,"span",3),a(10,"/"),i(),o(11,"a",4),a(12),i(),o(13,"span",3),a(14,"/"),i(),o(15,"span",5),a(16),i()()(),o(17,"section",6)(18,"div",1),m(19,it,28,17,"div",7),i()(),m(20,ct,8,3,"section",8)),l&2){let f;n(3),d(_(4,10,"catalog.catalog")),n(4),u("routerLink",$(12,W,c.supplierSlug)),n(),d(c.supplier==null?null:c.supplier.name),n(3),u("routerLink",b(14,q,c.supplierSlug,c.product==null||c.product.category_name==null||(f=c.product.category_name.toLowerCase())==null?null:f.replace(" ","-"))),n(),x(" ",c.product==null?null:c.product.category_name," "),n(4),d(c.product==null?null:c.product.name),n(),h("--supplier-color",c.supplier==null?null:c.supplier.color),n(2),s(19,c.product?19:-1),n(),s(20,c.relatedProducts.length>0?20:-1)}},dependencies:[j,U,V,A],styles:['.breadcrumb[_ngcontent-%COMP%]{padding:calc(80px + var(--space-lg)) 0 var(--space-lg);background:var(--color-surface);border-bottom:1px solid var(--color-border)}.breadcrumb[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);font-size:.85rem;flex-wrap:wrap}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-muted);text-decoration:none;transition:color var(--transition-fast)}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-accent)}.breadcrumb[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:var(--color-text-muted)}.breadcrumb[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:var(--color-text-primary);font-weight:500}.product-detail[_ngcontent-%COMP%]{padding:var(--space-3xl) 0}.product-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-4xl);align-items:start}@media (max-width: 900px){.product-layout[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--space-2xl)}}.product-gallery[_ngcontent-%COMP%]{position:sticky;top:100px}.product-gallery[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{aspect-ratio:1;background:linear-gradient(145deg,#1a2744,#0d1829);border-radius:var(--radius-xl);overflow:hidden;margin-bottom:var(--space-lg)}.product-gallery[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.product-gallery[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.product-gallery[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%]{font-size:120px;color:var(--supplier-color, var(--color-accent));opacity:.3}.product-gallery[_ngcontent-%COMP%]   .thumbnail-strip[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm);overflow-x:auto}.product-gallery[_ngcontent-%COMP%]   .thumbnail-strip[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{width:80px;height:80px;flex-shrink:0;border:2px solid var(--color-border);border-radius:var(--radius-md);overflow:hidden;cursor:pointer;transition:border-color var(--transition-fast);background:transparent;padding:0}.product-gallery[_ngcontent-%COMP%]   .thumbnail-strip[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]:hover, .product-gallery[_ngcontent-%COMP%]   .thumbnail-strip[_ngcontent-%COMP%]   .thumbnail.active[_ngcontent-%COMP%]{border-color:var(--supplier-color, var(--color-accent))}.product-gallery[_ngcontent-%COMP%]   .thumbnail-strip[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}@media (max-width: 900px){.product-gallery[_ngcontent-%COMP%]{position:static}}.product-info[_ngcontent-%COMP%]   .supplier-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:var(--space-sm);padding:var(--space-xs) var(--space-md);background:color-mix(in srgb,var(--supplier-color, var(--color-accent)) 15%,transparent);border:1px solid color-mix(in srgb,var(--supplier-color, var(--color-accent)) 30%,transparent);border-radius:var(--radius-full);font-size:.85rem;color:var(--supplier-color, var(--color-accent));margin-bottom:var(--space-lg)}.product-info[_ngcontent-%COMP%]   .supplier-badge[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%]{font-size:16px}.product-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:var(--space-md);line-height:1.3}.product-info[_ngcontent-%COMP%]   .category-tag[_ngcontent-%COMP%]{display:inline-block;padding:var(--space-xs) var(--space-sm);background:var(--color-surface-elevated);border-radius:var(--radius-sm);font-size:.8rem;color:var(--color-text-muted);margin-bottom:var(--space-lg)}.product-info[_ngcontent-%COMP%]   .short-description[_ngcontent-%COMP%]{font-size:1.125rem;color:var(--color-text-secondary);margin-bottom:var(--space-xl);line-height:1.6}.product-info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .product-info[_ngcontent-%COMP%]   .specifications[_ngcontent-%COMP%]{margin-bottom:var(--space-xl)}.product-info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .product-info[_ngcontent-%COMP%]   .specifications[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:var(--space-md);color:var(--color-text-primary);display:flex;align-items:center;gap:var(--space-sm)}.product-info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before, .product-info[_ngcontent-%COMP%]   .specifications[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"";width:4px;height:20px;background:var(--supplier-color, var(--color-accent));border-radius:2px}.product-info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .product-info[_ngcontent-%COMP%]   .specifications[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-text-secondary);line-height:1.7}.product-info[_ngcontent-%COMP%]   .spec-list[_ngcontent-%COMP%]{display:grid;gap:var(--space-sm)}.product-info[_ngcontent-%COMP%]   .spec-list[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]{display:flex;padding:var(--space-md);background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-md)}.product-info[_ngcontent-%COMP%]   .spec-list[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{font-weight:500;color:var(--color-text-secondary);flex:1}.product-info[_ngcontent-%COMP%]   .spec-list[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{color:var(--color-text-primary);margin:0}.product-info[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]{display:flex;gap:var(--space-md);padding-top:var(--space-xl);border-top:1px solid var(--color-border)}.product-info[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;justify-content:center}.product-info[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:var(--space-sm)}@media (max-width: 540px){.product-info[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]{flex-direction:column}}.related-section[_ngcontent-%COMP%]{background:var(--color-surface);border-top:1px solid var(--color-border)}.related-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--space-2xl)}.related-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:var(--space-lg)}@media (max-width: 1000px){.related-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 768px){.related-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 540px){.related-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.related-card[_ngcontent-%COMP%]{text-decoration:none;transition:transform var(--transition-fast);animation:_ngcontent-%COMP%_fadeInUp .5s ease forwards;opacity:0}.related-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.related-card[_ngcontent-%COMP%]:hover   .related-image[_ngcontent-%COMP%]{border-color:var(--color-accent)}.related-card[_ngcontent-%COMP%]   .related-image[_ngcontent-%COMP%]{aspect-ratio:1;background:var(--color-surface-elevated);border:1px solid var(--color-border);border-radius:var(--radius-lg);overflow:hidden;margin-bottom:var(--space-sm);display:flex;align-items:center;justify-content:center;transition:border-color var(--transition-fast)}.related-card[_ngcontent-%COMP%]   .related-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.related-card[_ngcontent-%COMP%]   .related-image[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%]{font-size:32px;color:var(--color-text-muted)}.related-card[_ngcontent-%COMP%]   .related-name[_ngcontent-%COMP%]{display:block;font-size:.85rem;color:var(--color-text-secondary);text-align:center;line-height:1.3}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}']})}}return e})();export{Ct as ProductDetailComponent};
